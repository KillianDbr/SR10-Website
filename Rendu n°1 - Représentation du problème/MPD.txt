CREATE TABLE Type (type VARCHAR(100) NOT NULL, PRIMARY KEY (type));

CREATE TABLE Statut (statut VARCHAR(100) NOT NULL, PRIMARY KEY (statut));

CREATE TABLE Metier (metier VARCHAR(100), PRIMARY KEY (metier));

CREATE TABLE Rythme (rythme VARCHAR(100), PRIMARY KEY (rythme));

CREATE TABLE Organisation (siren NUMERIC(9) NOT NULL, nom VARCHAR(100) NOT NULL, siege_social VARCHAR(100) NOT NULL, type VARCHAR(100) NOT NULL, verification ENUM('validé', 'en_attente_de_validation', 'non_validé') NOT NULL, FOREIGN KEY (type) REFERENCES Type(type), PRIMARY KEY (siren));

CREATE TABLE Utilisateur (id INTEGER AUTO_INCREMENT NOT NULL, nom VARCHAR(100) NOT NULL, mail VARCHAR(200) NOT NULL, mdp VARCHAR(50) NOT NULL, telephone NUMERIC(10), date_creation DATE NOT NULL, statut BOOLEAN NOT NULL, PRIMARY KEY (id));

CREATE TABLE Administrateur (id INTEGER NOT NULL, FOREIGN KEY (id) REFERENCES Utilisateur(id), PRIMARY KEY (id));

CREATE TABLE Recruteur (id INTEGER NOT NULL, organisation NUMERIC(9) NOT NULL, FOREIGN KEY (id) REFERENCES Utilisateur(id), FOREIGN KEY (organisation) REFERENCES Organisation (siren), PRIMARY KEY (id));

CREATE TABLE Fiche_poste (id INTEGER AUTO_INCREMENT NOT NULL, intitule VARCHAR(100), statut_poste VARCHAR(100) NOT NULL, responsable VARCHAR(100) NOT NULL, type_metier VARCHAR(100) NOT NULL, lieu VARCHAR(200), rythme VARCHAR(100) NOT NULL, salaire FLOAT, description VARCHAR(255), FOREIGN KEY (statut_poste) REFERENCES Statut(statut), FOREIGN KEY (type_metier) REFERENCES Metier (metier), FOREIGN KEY (rythme) REFERENCES Rythme (rythme), PRIMARY KEY (id));

CREATE TABLE Offre (numero INTEGER AUTO_INCREMENT NOT NULL, etat ENUM('non-publié', 'publié', 'expiré') NOT NULL, date_validite DATE NOT NULL, pieces_demandees VARCHAR(255), nombre_pieces_demandees INTEGER, fiche_poste INTEGER NOT NULL, recruteur INTEGER NOT NULL, FOREIGN KEY (fiche_poste) REFERENCES Fiche_poste (id), FOREIGN KEY (recruteur) REFERENCES Recruteur (id), PRIMARY KEY (numero));

CREATE TABLE Candidature (id INTEGER AUTO_INCREMENT PRIMARY KEY, utilisateur INTEGER NOT NULL, offre INTEGER NOT NULL, date DATE NOT NULL, FOREIGN KEY (utilisateur) REFERENCES Utilisateur (id), FOREIGN KEY (offre) REFERENCES Offre (numero), UNIQUE (utilisateur, offre));

CREATE TABLE Fichier (id INTEGER AUTO_INCREMENT PRIMARY KEY, candidature INTEGER NOT NULL, nom_fichier VARCHAR(100), FOREIGN KEY (candidature) REFERENCES Candidature (id));
